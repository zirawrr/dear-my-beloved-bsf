<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Secret Page üîí</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

<style>
body{
    font-family:'Poppins',sans-serif;
    margin:0;
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    overflow:hidden;
    background:linear-gradient(270deg,#ffd6e7,#ffeccf,#ffd1dc,#ffe9f3);
    background-size:400% 400%;
    animation:bgMove 12s ease infinite;
}

@keyframes bgMove{
    0%{background-position:0% 50%;}
    50%{background-position:100% 50%;}
    100%{background-position:0% 50%;}
}

/* Bouquet & Rai Photo */
.floating-img{
    position:absolute;
    width:110px;
    animation:float 6s ease-in-out infinite;
    opacity:0.9;
    z-index:1;
    border-radius: 15px;
}

@keyframes float{
    0%{transform:translateY(0) rotate(0deg);}
    50%{transform:translateY(-25px) rotate(5deg);}
    100%{transform:translateY(0) rotate(0deg);}
}

.card{
    position:relative;
    width:90%;
    max-width:420px;
    background:white;
    padding:30px;
    border-radius:22px;
    text-align:center;
    box-shadow:0 15px 40px rgba(0,0,0,0.15);
    z-index:5;
}

h1{ color:#ff5c8a; }
input{ width:100%; padding:12px; border-radius:15px; border:1px solid #ddd; margin-top:15px; box-sizing: border-box; }
button{ background:#ff5c8a; border:none; padding:12px 25px; border-radius:20px; color:white; font-size:16px; cursor:pointer; margin-top:15px; transition: 0.3s; }
button:hover { transform: scale(1.05); background: #ff477e; }

.message{ margin-top:20px; font-size:17px; color:#444; min-height:110px; white-space: pre-line; }
.gallery{ margin-top:18px; display:none; gap:10px; justify-content:center; }
.gallery span{ font-size:26px; cursor: pointer; transition: 0.3s; }

/* Objek Game */
#game-target {
    position: absolute;
    width: 80px;
    height: 80px;
    cursor: pointer;
    z-index: 10;
    display: none;
    user-select: none;
    transition: transform 0.1s ease;
}

#game-target img {
    width: 100%;
    height: auto;
}

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-10px); }
    75% { transform: translateX(10px); }
}
.shake-card { animation: shake 0.3s ease-in-out; }

.heart{
    position:absolute;
    font-size:22px;
    pointer-events: none;
    animation:fall 3s linear forwards;
    z-index: 6;
}
@keyframes fall{
    from{transform:translateY(-50px);opacity:1;}
    to{transform:translateY(100vh);opacity:0;}
}
</style>
</head>

<body>

<audio id="clickSound"><source src="https://cdn.pixabay.com/download/audio/2022/03/10/audio_c6ccf2a0b7.mp3?filename=click-124467.mp3"></audio>
<audio id="bgMusic"><source src="https://raw.githubusercontent.com/zirawrr/dear-my-beloved-bsf/main/arctic.mp3" type="audio/mpeg"></audio>

<img src="bouquet.png" class="floating-img" style="top:5%; left:5%; animation-delay: 0s;">
<img src="rai.png" class="floating-img" style="top:15%; right:8%; animation-delay: 1s; width: 100px;">
<img src="bouquet.png" class="floating-img" style="bottom:10%; left:8%; animation-delay: 2s;">
<img src="rai.png" class="floating-img" style="bottom:20%; right:5%; animation-delay: 0.5s; width: 100px;">

<div id="game-target" onclick="catchTarget()">
    <img src="balls.png" alt="target">
</div>

<div class="card" id="lock">
    <h2>üîí enter password dulu</h2>
    <input type="password" id="pass" placeholder="password...">
    <button onclick="checkPass()">open</button>
    <p id="wrong" style="color:red;display:none;margin-top:10px;">sala pass nya sala uu üòº</p>
</div>

<div class="card" id="content" style="display:none;">
    <h1 id="title">for uuuu üíå</h1>
    <button id="startBtn" onclick="startTyping()">pencet pencet</button>
    <div class="message" id="text"></div>
    <div class="gallery" id="gal"><span>üê±</span><span>üåô</span><span>üíó</span><span>‚ú®</span></div>
</div>

<script>
const realPass = "jirajaki";
let score = 0;
const targetScore = 5;

// Link SFX Chicken (Raw GitHub)
const catchSfx = new Audio("https://raw.githubusercontent.com/zirawrr/dear-my-beloved-bsf/main/chicken.mp3");

function checkPass(){
    document.getElementById("clickSound").play();
    const input = document.getElementById("pass").value;
    const lockCard = document.getElementById("lock");
    if(input === realPass){
        lockCard.style.display = "none";
        document.getElementById("content").style.display = "block";
    } else {
        lockCard.classList.remove('shake-card');
        void lockCard.offsetWidth;
        lockCard.classList.add('shake-card');
        document.getElementById("wrong").style.display = "block";
    }
}

const msg = `saayang, aku mau akhirin our relationship with a warmer greet, hihi.
üòä Oo, ooo oo oo! üòÑ Oo ooo ooo! ü´∞üèª

I love you sooooo much.
I hope in this ramadan month, we can be much better.

I will miss u so muchh.
Ciao, my beloved bsf (aw bsf xixi)üå∑`;

let i = 0;
let isTyping = false;

function startTyping(){
    document.getElementById("clickSound").play();
    const music = document.getElementById("bgMusic");
    music.currentTime = 15;
    music.play();
    if(isTyping) return;
    isTyping = true;
    document.getElementById("startBtn").style.display = "none";
    
    const textBox = document.getElementById("text");
    const gallery = document.getElementById("gal");
    textBox.innerHTML = "";
    i = 0;

    function type(){
        if(i < msg.length){
            textBox.innerHTML += msg.charAt(i);
            i++;
            setTimeout(type, 35);
        } else {
            gallery.style.display = "flex";
            isTyping = false;
            // JEDA SEBELUM GAME
            setTimeout(() => {
                createExplosion();
                startMiniGame();
            }, 4000);
        }
    }
    type();
}

function startMiniGame() {
    alert("Eh bentar! Tangkap kucingnyaa 5x buat dapet pesan terakhir! üòº");
    document.getElementById("game-target").style.display = "block";
    moveTarget();
}

function moveTarget() {
    const target = document.getElementById("game-target");
    // Area aman supaya gak ketutup card (tengah)
    const x = Math.random() * (window.innerWidth - 100);
    const y = Math.random() * (window.innerHeight - 100);
    target.style.left = x + "px";
    target.style.top = y + "px";
}

function catchTarget() {
    score++;
    // Mainkan SFX Chicken
    catchSfx.currentTime = 0;
    catchSfx.play();
    
    const target = document.getElementById("game-target");
    target.style.transform = "scale(1.3)";
    
    setTimeout(() => {
        target.style.transform = "scale(1)";
        if (score < targetScore) {
            moveTarget();
        } else {
            target.style.display = "none";
            document.getElementById("title").innerHTML = "YOU WON! üèÜ";
            document.getElementById("text").innerHTML = "i just wanted to say, i love you cees. \n\nmakasii udaa mainin sampai akhir ya sayang!";
            createExplosion();
        }
    }, 150);
}

function createExplosion() {
    for(let j=0; j<40; j++) {
        setTimeout(() => {
            const heart = document.createElement("div");
            heart.className = "heart";
            heart.innerHTML = ["üå∏","‚ú®","üíñ","üå∑","‚≠ê","üç≠"][Math.floor(Math.random()*6)];
            heart.style.left = Math.random() * 100 + "vw";
            heart.style.top = "100vh";
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 3000);
        }, j * 100);
    }
}

document.addEventListener("click", function(e){
    if(e.target.closest('#game-target')) return; 
    const heart = document.createElement("div");
    heart.className = "heart";
    heart.innerHTML = "üíó";
    heart.style.left = e.clientX + "px";
    heart.style.top = e.clientY + "px";
    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 3000);
});
</script>
</body>
</html>
